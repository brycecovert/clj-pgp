<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clj-pgp.generate documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clj-pgp</span> <span class="project-version">0.10.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-pgp</span></div></div></li><li class="depth-2 branch"><a href="clj-pgp.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch current"><a href="clj-pgp.generate.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>generate</span></div></a></li><li class="depth-2 branch"><a href="clj-pgp.keyring.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>keyring</span></div></a></li><li class="depth-2 branch"><a href="clj-pgp.message.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>message</span></div></a></li><li class="depth-2 branch"><a href="clj-pgp.signature.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>signature</span></div></a></li><li class="depth-2 branch"><a href="clj-pgp.tags.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tags</span></div></a></li><li class="depth-2"><a href="clj-pgp.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-pgp.generate.html#var-add-subkey.21"><div class="inner"><span>add-subkey!</span></div></a></li><li class="depth-1"><a href="clj-pgp.generate.html#var-ec-keypair-generator"><div class="inner"><span>ec-keypair-generator</span></div></a></li><li class="depth-1"><a href="clj-pgp.generate.html#var-elliptic-curve-names"><div class="inner"><span>elliptic-curve-names</span></div></a></li><li class="depth-1"><a href="clj-pgp.generate.html#var-generate-keypair"><div class="inner"><span>generate-keypair</span></div></a></li><li class="depth-1"><a href="clj-pgp.generate.html#var-generate-keyrings"><div class="inner"><span>generate-keyrings</span></div></a></li><li class="depth-1"><a href="clj-pgp.generate.html#var-generate-keys"><div class="inner"><span>generate-keys</span></div></a></li><li class="depth-1"><a href="clj-pgp.generate.html#var-keyring-generator"><div class="inner"><span>keyring-generator</span></div></a></li><li class="depth-1"><a href="clj-pgp.generate.html#var-prefer-compression-algorithms.21"><div class="inner"><span>prefer-compression-algorithms!</span></div></a></li><li class="depth-1"><a href="clj-pgp.generate.html#var-prefer-hash-algorithms.21"><div class="inner"><span>prefer-hash-algorithms!</span></div></a></li><li class="depth-1"><a href="clj-pgp.generate.html#var-prefer-symmetric-algorithms.21"><div class="inner"><span>prefer-symmetric-algorithms!</span></div></a></li><li class="depth-1"><a href="clj-pgp.generate.html#var-rsa-keypair-generator"><div class="inner"><span>rsa-keypair-generator</span></div></a></li><li class="depth-1"><a href="clj-pgp.generate.html#var-set-key-expiration.21"><div class="inner"><span>set-key-expiration!</span></div></a></li><li class="depth-1"><a href="clj-pgp.generate.html#var-signature-generator"><div class="inner"><span>signature-generator</span></div></a></li><li class="depth-1"><a href="clj-pgp.generate.html#var-signature-subpacket-generator"><div class="inner"><span>signature-subpacket-generator</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clj-pgp.generate</h1><div class="doc"><div class="markdown"><p>This namespace provides functionality to generate PGP keypairs and keyrings using a convenient macro syntax.</p>
<p>The two primary supported key types are RSA keys (via <code>rsa-keypair-generator</code>) and Elliptic Curve keys (via <code>ec-keypair-generator</code>). A set of the supported named curves can be found in <code>elliptic-curve-names</code>.</p>
<p>To generate PGP keyrings with designater master keys and subkeys with specific roles and restrictions, use the <code>generate-keys</code> macro. This returns a map with <code>:public</code> and <code>:secret</code> entries containing the respective keyrings.</p></div></div><div class="public anchor" id="var-add-subkey.21"><h3>add-subkey!</h3><div class="usage"><code>(add-subkey! generator subkey sig-gen)</code></div><div class="doc"><div class="markdown"><p>Adds a subkey and signature packet to a keyring genrator.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/">view source</a></div></div><div class="public anchor" id="var-ec-keypair-generator"><h3>ec-keypair-generator</h3><div class="usage"><code>(ec-keypair-generator curve &amp; opts)</code></div><div class="doc"><div class="markdown"><p>Constructs a new generator for keypairs on the named elliptic curve.</p>
<p>Opts may include:</p>
<ul>
  <li><code>:random</code> a custom random number generator</li>
</ul></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/">view source</a></div></div><div class="public anchor" id="var-elliptic-curve-names"><h3>elliptic-curve-names</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Set of supported elliptic curves.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/">view source</a></div></div><div class="public anchor" id="var-generate-keypair"><h3>generate-keypair</h3><div class="usage"><code>(generate-keypair generator algorithm)</code></div><div class="doc"><div class="markdown"><p>Builds a new PGP keypair from a generator.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/">view source</a></div></div><div class="public anchor" id="var-generate-keyrings"><h3>generate-keyrings</h3><div class="usage"><code>(generate-keyrings keyring-gen)</code></div><div class="doc"><div class="markdown"><p>Generates both the public and secret keyrings from the given generator.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/">view source</a></div></div><div class="public anchor" id="var-generate-keys"><h3>generate-keys</h3><h4 class="type">macro</h4><div class="usage"><code>(generate-keys user-id passphrase &amp; key-specs)</code></div><div class="doc"><div class="markdown"><p>Macro to generate keys with a mini-language to specify preferences and subkeys.</p>
<p>An example invocation that creates a master key with signing and encryption subkeys:</p>
<pre><code>(pgp-gen/generate-keys
  "test user" "test passphrase"
  (master-key
    (keypair rsa :rsa-general)
    (prefer-symmetric :aes-256 :aes-128)
    (prefer-hash :sha512 :sha256 :sha1)
    (prefer-compression :zlib :bzip2))
  (signing-key
    (keypair rsa :rsa-general)
    (expires 36000))
  (encryption-key
    (keypair rsa :rsa-general)))
</code></pre></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/">view source</a></div></div><div class="public anchor" id="var-keyring-generator"><h3>keyring-generator</h3><div class="usage"><code>(keyring-generator user-id passphrase master-key master-sig-gen)</code></div><div class="doc"><div class="markdown"><p>Constructs a new generator for a keyring for a user-id, encrypted with the given passphrase. The provided keypair will become the master key with any options specified in the signature subpacket.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/">view source</a></div></div><div class="public anchor" id="var-prefer-compression-algorithms.21"><h3>prefer-compression-algorithms!</h3><div class="usage"><code>(prefer-compression-algorithms! generator__8036__auto__ &amp; algorithms__8037__auto__)</code></div><div class="doc"><div class="markdown"><p>Sets the list of preferred algorithms on a signature generator for use when sending messages to the key.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/">view source</a></div></div><div class="public anchor" id="var-prefer-hash-algorithms.21"><h3>prefer-hash-algorithms!</h3><div class="usage"><code>(prefer-hash-algorithms! generator__8036__auto__ &amp; algorithms__8037__auto__)</code></div><div class="doc"><div class="markdown"><p>Sets the list of preferred algorithms on a signature generator for use when sending messages to the key.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/">view source</a></div></div><div class="public anchor" id="var-prefer-symmetric-algorithms.21"><h3>prefer-symmetric-algorithms!</h3><div class="usage"><code>(prefer-symmetric-algorithms! generator__8036__auto__ &amp; algorithms__8037__auto__)</code></div><div class="doc"><div class="markdown"><p>Sets the list of preferred algorithms on a signature generator for use when sending messages to the key.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/">view source</a></div></div><div class="public anchor" id="var-rsa-keypair-generator"><h3>rsa-keypair-generator</h3><div class="usage"><code>(rsa-keypair-generator strength &amp; opts)</code></div><div class="doc"><div class="markdown"><p>Constructs a new generator for RSA keypairs with the given bit strength. Other parameters may be customized with keyword options.</p>
<p>Opts may include:</p>
<ul>
  <li><code>:random</code> a custom random number generator</li>
  <li><code>:exponent</code> RSA algorithm public exponent</li>
  <li><code>:certainty</code> threshold for probabilistic prime generation</li>
</ul></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/">view source</a></div></div><div class="public anchor" id="var-set-key-expiration.21"><h3>set-key-expiration!</h3><div class="usage"><code>(set-key-expiration! generator lifetime)</code></div><div class="doc"><div class="markdown"><p>Sets a key expiration time on a signature generator. The lifetime is expressed as a number of seconds since the key creation time.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/">view source</a></div></div><div class="public anchor" id="var-signature-generator"><h3>signature-generator</h3><div class="usage"><code>(signature-generator mode)</code></div><div class="doc"><div class="markdown"><p>Constructs a signature subpacket generator with a preset mode. This can be one of <code>:master</code>, <code>:signing</code>, or <code>:encryption</code>.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/">view source</a></div></div><div class="public anchor" id="var-signature-subpacket-generator"><h3>signature-subpacket-generator</h3><div class="usage"><code>(signature-subpacket-generator &amp; flags)</code></div><div class="doc"><div class="markdown"><p>Constructs a new generator for key signature subpackets. The given flags will be applied to the key.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/">view source</a></div></div></div></body></html>